<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Focus Group Analysis • FocusGroup</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Focus Group Analysis">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">FocusGroup</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/asanaei/FocusGroup" aria-label="GitHub repository"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Focus Group Analysis</h1>
                        <h4 data-toc-skip class="author">Ali Sanaei</h4>
            
            <h4 data-toc-skip class="date">2025-09-01</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/asanaei/FocusGroup/blob/HEAD/vignettes/focus-group-analysis.Rmd" class="external-link"><code>vignettes/focus-group-analysis.Rmd</code></a></small>
      <div class="d-none name"><code>focus-group-analysis.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The FocusGroup package provides tools for simulating and analyzing
focus group conversations. This vignette demonstrates how to use the
package to create, run, and analyze focus group simulations. The package
uses <code>FGAgent</code>s as the agents who participate in a focus
group study; these agents can be based on various LLM models potentially
from different providers; see <code>LLMR</code> documentation for which
providers have built-in support and how to add new ones. One
<code>FGAgent</code> is always the moderator.</p>
<div class="section level3">
<h3 id="llmr-0-6-0-compatibility-notes">LLMR 0.6.0 compatibility notes<a class="anchor" aria-label="anchor" href="#llmr-0-6-0-compatibility-notes"></a>
</h3>
<ul>
<li>Generative calls return an <code>llmr_response</code> object. Use
<code>as.character(resp)</code> for text, and
<code>LLMR::tokens(resp)</code> and
<code>LLMR::finish_reason(resp)</code> for usage/metadata.</li>
<li>The legacy <code>json = TRUE</code> argument was removed from
<code><a href="https://asanaei.github.io/LLMR/reference/call_llm.html" class="external-link">LLMR::call_llm()</a></code> and <code><a href="https://asanaei.github.io/LLMR/reference/call_llm_robust.html" class="external-link">LLMR::call_llm_robust()</a></code>.
You do not need to set it; FocusGroup handles responses correctly
without it.</li>
<li>Recommended: set your provider API key in an environment variable
(e.g., <code>OPENAI_API_KEY</code>). You can omit <code>api_key</code>
in <code>LLMR::llm_config(...)</code> and LLMR will read it
automatically.</li>
</ul>
</div>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install from GitHub</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"asanaei/FocusGroup"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="running-a-simple-focus-group">Running a Simple Focus Group<a class="anchor" aria-label="anchor" href="#running-a-simple-focus-group"></a>
</h2>
<p>Let’s start by running a focus group with 5 participants using the
high-level wrapper. Note that you need to set your OpenAI API key in the
environment variable <code>OPENAI_API_KEY</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set your OpenAI API key (or set it in your environment)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>OPENAI_API_KEY <span class="op">=</span> <span class="st">"your-api-key-here"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Run a focus group with 5 participants</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_focus_group.html">run_focus_group</a></span><span class="op">(</span></span>
<span>  topic <span class="op">=</span> <span class="st">"Impact of Social Media on Mental Health"</span>,</span>
<span>  participants <span class="op">=</span> <span class="fl">5</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View the focus group configuration</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">result</span><span class="op">$</span><span class="va">focus_group</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="viewing-the-conversation">Viewing the Conversation<a class="anchor" aria-label="anchor" href="#viewing-the-conversation"></a>
</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># View the conversation</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">result</span><span class="op">$</span><span class="va">conversation</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="analyzing-the-results">Analyzing the Results<a class="anchor" aria-label="anchor" href="#analyzing-the-results"></a>
</h2>
<p>The package provides several analysis functions to help understand
the conversation:</p>
<div class="section level3">
<h3 id="basic-analysis">Basic Analysis<a class="anchor" aria-label="anchor" href="#basic-analysis"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Get basic statistics</span></span>
<span><span class="va">stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/analyze_focus_group.html">analyze_focus_group</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">stats</span><span class="op">$</span><span class="va">summary</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="text-analysis">Text Analysis<a class="anchor" aria-label="anchor" href="#text-analysis"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Analyze text complexity</span></span>
<span><span class="va">complexity</span> <span class="op">&lt;-</span> <span class="fu">analyze_text_complexity</span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">complexity</span><span class="op">$</span><span class="va">readability</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Analyze response patterns</span></span>
<span><span class="va">patterns</span> <span class="op">&lt;-</span> <span class="fu">analyze_response_patterns</span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">patterns</span><span class="op">$</span><span class="va">turn_patterns</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="question-analysis">Question Analysis<a class="anchor" aria-label="anchor" href="#question-analysis"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Analyze question patterns</span></span>
<span><span class="va">questions</span> <span class="op">&lt;-</span> <span class="fu">analyze_question_patterns</span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">questions</span><span class="op">$</span><span class="va">question_patterns</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="visualization">Visualization<a class="anchor" aria-label="anchor" href="#visualization"></a>
</h3>
<p>The package includes several plotting functions:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create participation timeline</span></span>
<span><span class="va">participation_plot</span> <span class="op">&lt;-</span> <span class="fu">create_participation_timeline</span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">participation_plot</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## (Sentiment visualizations removed to simplify dependencies.)</span></span>
<span></span>
<span><span class="co"># Create readability by phase</span></span>
<span><span class="va">readability_plot</span> <span class="op">&lt;-</span> <span class="fu">create_readability_by_phase</span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">readability_plot</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="advanced-usage">Advanced Usage<a class="anchor" aria-label="anchor" href="#advanced-usage"></a>
</h2>
<div class="section level3">
<h3 id="custom-agent-profiles-and-manual-construction">Custom Agent Profiles and Manual Construction<a class="anchor" aria-label="anchor" href="#custom-agent-profiles-and-manual-construction"></a>
</h3>
<p>You can create custom agent profiles and manually construct a
FocusGroup object:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set your OpenAI API key (or set it in your environment)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>OPENAI_API_KEY <span class="op">=</span> <span class="st">"your-api-key-here"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create diverse agents</span></span>
<span><span class="va">agents</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_diverse_agents.html">create_diverse_agents</a></span><span class="op">(</span></span>
<span>  n_participants <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  demographics <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">25</span>, <span class="fl">35</span>, <span class="fl">45</span><span class="op">)</span>,</span>
<span>    gender <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"male"</span>, <span class="st">"female"</span>, <span class="st">"non-binary"</span><span class="op">)</span>,</span>
<span>    education <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"high school"</span>, <span class="st">"bachelor's"</span>, <span class="st">"master's"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Name the agents by their IDs</span></span>
<span><span class="va">agents_named</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html" class="external-link">setNames</a></span><span class="op">(</span><span class="va">agents</span>, <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">agents</span>, <span class="kw">function</span><span class="op">(</span><span class="va">a</span><span class="op">)</span> <span class="va">a</span><span class="op">$</span><span class="va">id</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Find moderator ID</span></span>
<span><span class="va">moderator_id</span> <span class="op">&lt;-</span> <span class="va">agents_named</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">id</span></span>
<span></span>
<span><span class="co"># Create a conversation flow object</span></span>
<span><span class="va">flow_obj</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/DesireBasedFlow.html">DesireBasedFlow</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">agents_named</span>, <span class="va">moderator_id</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create the FocusGroup object</span></span>
<span><span class="va">fg</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/FocusGroup.html">FocusGroup</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  topic <span class="op">=</span> <span class="st">"Impact of Social Media on Mental Health"</span>,</span>
<span>  purpose <span class="op">=</span> <span class="st">"To explore perspectives and experiences related to social media."</span>,</span>
<span>  agents <span class="op">=</span> <span class="va">agents_named</span>,</span>
<span>  moderator_id <span class="op">=</span> <span class="va">moderator_id</span>,</span>
<span>  turn_taking_flow <span class="op">=</span> <span class="va">flow_obj</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="custom-analysis">Custom Analysis<a class="anchor" aria-label="anchor" href="#custom-analysis"></a>
</h3>
<p>You can perform custom analysis using the conversation data:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Extract conversation data</span></span>
<span><span class="va">conv_data</span> <span class="op">&lt;-</span> <span class="va">result</span><span class="op">$</span><span class="va">conversation</span></span>
<span></span>
<span><span class="co"># Custom analysis example</span></span>
<span><span class="va">word_counts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">conv_data</span><span class="op">$</span><span class="va">message</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"\\s+"</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">word_counts</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="best-practices">Best Practices<a class="anchor" aria-label="anchor" href="#best-practices"></a>
</h2>
<ol style="list-style-type: decimal">
<li>Always start with a clear research question</li>
<li>Use appropriate number of participants (typically 5-8)</li>
<li>Set realistic duration for the simulation</li>
<li>Review and adjust agent profiles based on your research needs</li>
<li>Use multiple analysis methods to get a comprehensive
understanding</li>
<li>Remember to set your API key in the environment variable like
<code>OPENAI_API_KEY</code>
</li>
</ol>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>The FocusGroup package provides a powerful toolkit for simulating and
analyzing focus group conversations. By following this vignette, you
should be able to:</p>
<ul>
<li>Create and configure focus groups</li>
<li>Run simulations with different parameters</li>
<li>Analyze conversations using various methods</li>
<li>Visualize results effectively</li>
<li>Customize the analysis to your specific needs</li>
</ul>
<p>For more information, please refer to the package documentation and
examples.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="mailto:sanaei@uchicago.edu">Ali Sanaei</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
