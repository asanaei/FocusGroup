<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>FocusGroup R6 Class — FocusGroup • FocusGroup</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="FocusGroup R6 Class — FocusGroup"><meta name="description" content="Main R6 class for managing and running a focus group simulation.
It orchestrates the simulation through distinct phases (Opening, Icebreaker,
Engagement, Exploration, Closing) guided by a question script, manages agent
interactions via a turn-taking flow, and provides methods for analysis and
visualization of the conversation.
Provides utilities for simulating and analyzing focus group discussions using Large Language Models. Enables researchers to create virtual focus groups with diverse AI agents with detailed personas, conduct structured discussions across multiple phases, and perform analysis of the resulting conversations."><meta property="og:description" content="Main R6 class for managing and running a focus group simulation.
It orchestrates the simulation through distinct phases (Opening, Icebreaker,
Engagement, Exploration, Closing) guided by a question script, manages agent
interactions via a turn-taking flow, and provides methods for analysis and
visualization of the conversation.
Provides utilities for simulating and analyzing focus group discussions using Large Language Models. Enables researchers to create virtual focus groups with diverse AI agents with detailed personas, conduct structured discussions across multiple phases, and perform analysis of the resulting conversations."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">FocusGroup</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/asanaei/FocusGroup" aria-label="GitHub repository"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>FocusGroup R6 Class</h1>
      <small class="dont-index">Source: <a href="https://github.com/asanaei/FocusGroup/blob/main/R/FocusGroup.R" class="external-link"><code>R/FocusGroup.R</code></a>, <a href="https://github.com/asanaei/FocusGroup/blob/main/R/zzz.R" class="external-link"><code>R/zzz.R</code></a></small>
      <div class="d-none name"><code>FocusGroup.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Main R6 class for managing and running a focus group simulation.
It orchestrates the simulation through distinct phases (Opening, Icebreaker,
Engagement, Exploration, Closing) guided by a question script, manages agent
interactions via a turn-taking flow, and provides methods for analysis and
visualization of the conversation.</p>
<p>Provides utilities for simulating and analyzing focus group discussions using Large Language Models. Enables researchers to create virtual focus groups with diverse AI agents with detailed personas, conduct structured discussions across multiple phases, and perform analysis of the resulting conversations.</p>
    </div>


    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Useful links:</p><ul><li><p><a href="https://github.com/asanaei/FocusGroup" class="external-link">https://github.com/asanaei/FocusGroup</a></p></li>
<li><p><a href="https://asanaei.github.io/FocusGroup/">https://asanaei.github.io/FocusGroup/</a></p></li>
<li><p>Report bugs at <a href="https://github.com/asanaei/FocusGroup/issues" class="external-link">https://github.com/asanaei/FocusGroup/issues</a></p></li>
</ul></div>
    </div>
    <div class="section level2">
    <h2 id="public-fields">Public fields<a class="anchor" aria-label="anchor" href="#public-fields"></a></h2>
    <p></p><div class="r6-fields"><dl><dt><code>topic</code></dt>
<dd><p>Character. The main topic of the focus group discussion.</p></dd>


<dt><code>purpose</code></dt>
<dd><p>Character. The primary purpose or research objective of conducting the focus group.</p></dd>


<dt><code>agents</code></dt>
<dd><p>Named list. A list of `FGAgent` objects participating in the simulation, indexed by their IDs.</p></dd>


<dt><code>moderator_id</code></dt>
<dd><p>Character. The ID of the agent designated as the moderator.</p></dd>


<dt><code>conversation_log</code></dt>
<dd><p>List. A chronological log of all messages. Each message is a list:
`turn`, `speaker_id`, `is_moderator`, `text`, `timestamp`, `phase`.</p></dd>


<dt><code>turn_taking_flow</code></dt>
<dd><p>A `ConversationFlow` object dictating participant turn-taking.</p></dd>


<dt><code>prompt_templates</code></dt>
<dd><p>List. Holds prompt templates for agent/moderator actions.</p></dd>


<dt><code>question_script</code></dt>
<dd><p>List. A structured list defining phases and specific questions/actions for the moderator.
Each element is a list with `phase` (e.g., "opening", "icebreaker_question") and optionally `text` (for specific questions).</p></dd>


<dt><code>current_phase_index</code></dt>
<dd><p>Integer. Tracks the current position in the `question_script`.</p></dd>


<dt><code>current_question_text</code></dt>
<dd><p>Character. Text of the current question being discussed.</p></dd>


<dt><code>current_conversation_summary</code></dt>
<dd><p>Character. An LLM-generated summary of earlier parts of the conversation,
used for managing context length in prompts.</p></dd>


<dt><code>llm_config_admin</code></dt>
<dd><p>An `llm_config` object for group-level LLM tasks (summarization, analysis).</p></dd>


<dt><code>max_tokens_utterance</code></dt>
<dd><p>Integer. Default max tokens for participant utterances.</p></dd>


<dt><code>max_tokens_moderator</code></dt>
<dd><p>Integer. Default max tokens for moderator utterances.</p></dd>


<dt><code>max_tokens_desire</code></dt>
<dd><p>Integer. Default max tokens for desire-to-talk queries.</p></dd>


<dt><code>total_tokens_sent</code></dt>
<dd><p>Numeric. Total tokens sent across all LLM calls in the group.</p></dd>


<dt><code>total_tokens_received</code></dt>
<dd><p>Numeric. Total tokens received across all LLM calls.</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-FocusGroup-new"><code>FocusGroup$new()</code></a></p></li>
<li><p><a href="#method-FocusGroup-run_simulation"><code>FocusGroup$run_simulation()</code></a></p></li>
<li><p><a href="#method-FocusGroup-advance_turn"><code>FocusGroup$advance_turn()</code></a></p></li>
<li><p><a href="#method-FocusGroup-summarize"><code>FocusGroup$summarize()</code></a></p></li>
<li><p><a href="#method-FocusGroup-analyze"><code>FocusGroup$analyze()</code></a></p></li>
<li><p><a href="#method-FocusGroup-analyze_topics"><code>FocusGroup$analyze_topics()</code></a></p></li>
<li><p><a href="#method-FocusGroup-analyze_tfidf"><code>FocusGroup$analyze_tfidf()</code></a></p></li>
<li><p><a href="#method-FocusGroup-analyze_readability"><code>FocusGroup$analyze_readability()</code></a></p></li>
<li><p><a href="#method-FocusGroup-analyze_themes"><code>FocusGroup$analyze_themes()</code></a></p></li>
<li><p><a href="#method-FocusGroup-analyze_statistics"><code>FocusGroup$analyze_statistics()</code></a></p></li>
<li><p><a href="#method-FocusGroup-analyze_participation_balance"><code>FocusGroup$analyze_participation_balance()</code></a></p></li>
<li><p><a href="#method-FocusGroup-analyze_response_patterns"><code>FocusGroup$analyze_response_patterns()</code></a></p></li>
<li><p><a href="#method-FocusGroup-analyze_question_patterns"><code>FocusGroup$analyze_question_patterns()</code></a></p></li>
<li><p><a href="#method-FocusGroup-analyze_key_phrases"><code>FocusGroup$analyze_key_phrases()</code></a></p></li>
<li><p><a href="#method-FocusGroup-plot_participation_timeline"><code>FocusGroup$plot_participation_timeline()</code></a></p></li>
<li><p><a href="#method-FocusGroup-plot_word_count_distribution"><code>FocusGroup$plot_word_count_distribution()</code></a></p></li>
<li><p><a href="#method-FocusGroup-plot_participation_by_agent"><code>FocusGroup$plot_participation_by_agent()</code></a></p></li>
<li><p><a href="#method-FocusGroup-plot_turn_length_timeline"><code>FocusGroup$plot_turn_length_timeline()</code></a></p></li>
<li><p><a href="#method-FocusGroup-clone"><code>FocusGroup$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-FocusGroup-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Initialize a new FocusGroup simulation.</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/FocusGroup.html">FocusGroup</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span></span>
<span>  <span class="va">topic</span>,</span>
<span>  <span class="va">purpose</span>,</span>
<span>  <span class="va">agents</span>,</span>
<span>  <span class="va">moderator_id</span>,</span>
<span>  <span class="va">turn_taking_flow</span>,</span>
<span>  question_script <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  prompt_templates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  llm_config_admin <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  max_tokens_config <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>topic</code></dt>
<dd><p>Character. The main discussion topic.</p></dd>


<dt><code>purpose</code></dt>
<dd><p>Character. The primary purpose of the focus group.</p></dd>


<dt><code>agents</code></dt>
<dd><p>Named list of initialized `FGAgent` objects.</p></dd>


<dt><code>moderator_id</code></dt>
<dd><p>Character. The ID of the agent acting as moderator.</p></dd>


<dt><code>turn_taking_flow</code></dt>
<dd><p>An initialized `ConversationFlow` object.</p></dd>


<dt><code>question_script</code></dt>
<dd><p>List. Moderator's script defining phases and questions.
If empty, a minimal default script (opening, generic discussion, closing) is used.</p></dd>


<dt><code>prompt_templates</code></dt>
<dd><p>List. Custom prompt templates. Defaults are used if not provided.</p></dd>


<dt><code>llm_config_admin</code></dt>
<dd><p>An `llm_config` object for administrative LLM tasks (e.g., summarization, LLM-based analysis).
If NULL, the moderator's `model_config` will be used for these tasks.</p></dd>


<dt><code>max_tokens_config</code></dt>
<dd><p>List. Optional. Named list with `utterance`, `moderator`, `desire`
to override default max token limits for these LLM call types.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-FocusGroup-run_simulation"></a><div class="section">
<h3 id="method-run-simulation-">Method <code>run_simulation()</code><a class="anchor" aria-label="anchor" href="#method-run-simulation-"></a></h3>
<p>Run the full focus group simulation.
Iterates through the `question_script` phases or a specified number of turns.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FocusGroup</span><span class="op">$</span><span class="fu">run_simulation</span><span class="op">(</span>num_turns <span class="op">=</span> <span class="cn">NULL</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>num_turns</code></dt>
<dd><p>Integer. Optional. Maximum number of turns to run. If `NULL` (default),
the simulation runs until the `question_script` is exhausted or the moderator
decides to end. If both `num_turns` and `question_script` are provided,
the simulation stops at whichever condition is met first.</p></dd>


<dt><code>verbose</code></dt>
<dd><p>Logical. If `TRUE`, prints progress and utterances to the console.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>Invisibly returns the `conversation_log`.</p>
</div>

</div><p></p><hr><a id="method-FocusGroup-advance_turn"></a><div class="section">
<h3 id="method-advance-turn-">Method <code>advance_turn()</code><a class="anchor" aria-label="anchor" href="#method-advance-turn-"></a></h3>
<p>Advance the simulation by one logical step (moderator action + participant response if applicable).</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FocusGroup</span><span class="op">$</span><span class="fu">advance_turn</span><span class="op">(</span><span class="va">current_turn_number</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>current_turn_number</code></dt>
<dd><p>Integer. The current turn number for logging.</p></dd>


<dt><code>verbose</code></dt>
<dd><p>Logical. If `TRUE`, print progress.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>Logical. `TRUE` if the simulation should continue, `FALSE` if it should end.</p>
</div>

</div><p></p><hr><a id="method-FocusGroup-summarize"></a><div class="section">
<h3 id="method-summarize-">Method <code>summarize()</code><a class="anchor" aria-label="anchor" href="#method-summarize-"></a></h3>
<p>Generate a summary of the conversation using an LLM.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FocusGroup</span><span class="op">$</span><span class="fu">summarize</span><span class="op">(</span></span>
<span>  llm_config <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  summary_level <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  max_tokens <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  internal_call <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  transcript_override <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>llm_config</code></dt>
<dd><p>An `llm_config` object for the summarization LLM. If `NULL`, uses `self$llm_config_admin`.</p></dd>


<dt><code>summary_level</code></dt>
<dd><p>Integer (1-3). 1: Prose overview, 2: Detailed bulleted, 3: Short bulleted takeaways.</p></dd>


<dt><code>max_tokens</code></dt>
<dd><p>Integer. Optional. Max tokens for the summary.</p></dd>


<dt><code>internal_call</code></dt>
<dd><p>Logical. If TRUE, this is an internal call (e.g. for context window management) and token counts are not added to the agent who "owns" llm_config_admin.</p></dd>


<dt><code>transcript_override</code></dt>
<dd><p>Character. Optional. If provided, this transcript is summarized instead of `self$conversation_log`.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p>Character string containing the generated summary.</p>
</div>

</div><p></p><hr><a id="method-FocusGroup-analyze"></a><div class="section">
<h3 id="method-analyze-">Method <code>analyze()</code><a class="anchor" aria-label="anchor" href="#method-analyze-"></a></h3>
<p>Basic analysis of the conversation log.</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FocusGroup</span><span class="op">$</span><span class="fu">analyze</span><span class="op">(</span>turns <span class="op">=</span> <span class="cn">NULL</span>, speaker_ids <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>turns</code></dt>
<dd><p>Integer vector. Optional. Specific turns to analyze. If `NULL`, analyzes all turns.</p></dd>


<dt><code>speaker_ids</code></dt>
<dd><p>Character vector. Optional. Specific speakers to analyze. If `NULL`, analyzes all speakers.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p>A list with `speaker_stats` (a tibble: speaker_id, utterance_count, total_words, avg_words_per_utterance)
        and `full_transcript` (character string).</p>
</div>

</div><p></p><hr><a id="method-FocusGroup-analyze_topics"></a><div class="section">
<h3 id="method-analyze-topics-">Method <code>analyze_topics()</code><a class="anchor" aria-label="anchor" href="#method-analyze-topics-"></a></h3>
<p>Perform LDA topic modeling on the conversation.</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FocusGroup</span><span class="op">$</span><span class="fu">analyze_topics</span><span class="op">(</span></span>
<span>  num_topics <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  min_doc_length <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  top_n_terms <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  turns <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  speaker_ids <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>num_topics</code></dt>
<dd><p>Integer. Number of topics to identify.</p></dd>


<dt><code>min_doc_length</code></dt>
<dd><p>Integer. Min words for a speaker's aggregated text to be a document.</p></dd>


<dt><code>top_n_terms</code></dt>
<dd><p>Integer. Number of top terms per topic to return.</p></dd>


<dt><code>turns</code></dt>
<dd><p>Integer vector. Optional. Specific turns to analyze.</p></dd>


<dt><code>speaker_ids</code></dt>
<dd><p>Character vector. Optional. Specific speakers to analyze.</p></dd>


<dt><code>...</code></dt>
<dd><p>Additional arguments to `topicmodels::LDA()`.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-4">Returns<a class="anchor" aria-label="anchor" href="#returns-4"></a></h4>
<p>A list with LDA model, topic terms, and document-topic proportions. `NULL` on failure.</p>
</div>

</div><p></p><hr><a id="method-FocusGroup-analyze_tfidf"></a><div class="section">
<h3 id="method-analyze-tfidf-">Method <code>analyze_tfidf()</code><a class="anchor" aria-label="anchor" href="#method-analyze-tfidf-"></a></h3>
<p>Calculate TF-IDF scores for terms per participant.</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FocusGroup</span><span class="op">$</span><span class="fu">analyze_tfidf</span><span class="op">(</span></span>
<span>  top_n_terms <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  turns <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  speaker_ids <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>top_n_terms</code></dt>
<dd><p>Integer. Number of top TF-IDF terms per participant.</p></dd>


<dt><code>turns</code></dt>
<dd><p>Integer vector. Optional. Specific turns to analyze.</p></dd>


<dt><code>speaker_ids</code></dt>
<dd><p>Character vector. Optional. Specific speakers to analyze.</p></dd>


<dt><code>...</code></dt>
<dd><p>Additional arguments to `tidytext::unnest_tokens`.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-5">Returns<a class="anchor" aria-label="anchor" href="#returns-5"></a></h4>
<p>A tibble with TF-IDF scores.</p>
</div>

</div><p></p><hr><a id="method-FocusGroup-analyze_readability"></a><div class="section">
<h3 id="method-analyze-readability-">Method <code>analyze_readability()</code><a class="anchor" aria-label="anchor" href="#method-analyze-readability-"></a></h3>
<p>Calculate readability scores for each participant's aggregated text.</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FocusGroup</span><span class="op">$</span><span class="fu">analyze_readability</span><span class="op">(</span></span>
<span>  measures <span class="op">=</span> <span class="st">"Flesch"</span>,</span>
<span>  turns <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  speaker_ids <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-7">Arguments<a class="anchor" aria-label="anchor" href="#arguments-7"></a></h4>
<p></p><div class="arguments"><dl><dt><code>measures</code></dt>
<dd><p>Character vector. Readability measure(s) from `quanteda.textstats::textstat_readability`.</p></dd>


<dt><code>turns</code></dt>
<dd><p>Integer vector. Optional. Specific turns to analyze.</p></dd>


<dt><code>speaker_ids</code></dt>
<dd><p>Character vector. Optional. Specific speakers to analyze.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-6">Returns<a class="anchor" aria-label="anchor" href="#returns-6"></a></h4>
<p>A tibble with readability scores.</p>
</div>

</div><p></p><hr><a id="method-FocusGroup-analyze_themes"></a><div class="section">
<h3 id="method-analyze-themes-">Method <code>analyze_themes()</code><a class="anchor" aria-label="anchor" href="#method-analyze-themes-"></a></h3>
<p>Perform LLM-assisted thematic analysis on the transcript.</p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FocusGroup</span><span class="op">$</span><span class="fu">analyze_themes</span><span class="op">(</span>llm_config <span class="op">=</span> <span class="cn">NULL</span>, turns <span class="op">=</span> <span class="cn">NULL</span>, speaker_ids <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-8">Arguments<a class="anchor" aria-label="anchor" href="#arguments-8"></a></h4>
<p></p><div class="arguments"><dl><dt><code>llm_config</code></dt>
<dd><p>An `llm_config` object for the analysis. If `NULL`, uses `self$llm_config_admin`.</p></dd>


<dt><code>turns</code></dt>
<dd><p>Integer vector. Optional. Specific turns to analyze.</p></dd>


<dt><code>speaker_ids</code></dt>
<dd><p>Character vector. Optional. Specific speakers to analyze.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-7">Returns<a class="anchor" aria-label="anchor" href="#returns-7"></a></h4>
<p>A list with `themes_summary` (character string from LLM) and `raw_llm_response`.</p>
</div>

</div><p></p><hr><a id="method-FocusGroup-analyze_statistics"></a><div class="section">
<h3 id="method-analyze-statistics-">Method <code>analyze_statistics()</code><a class="anchor" aria-label="anchor" href="#method-analyze-statistics-"></a></h3>
<p>Perform statistical analysis on conversation patterns.</p><div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FocusGroup</span><span class="op">$</span><span class="fu">analyze_statistics</span><span class="op">(</span>turns <span class="op">=</span> <span class="cn">NULL</span>, speaker_ids <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-9">Arguments<a class="anchor" aria-label="anchor" href="#arguments-9"></a></h4>
<p></p><div class="arguments"><dl><dt><code>turns</code></dt>
<dd><p>Integer vector. Optional. Specific turns to analyze.</p></dd>


<dt><code>speaker_ids</code></dt>
<dd><p>Character vector. Optional. Specific speakers to analyze.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-8">Returns<a class="anchor" aria-label="anchor" href="#returns-8"></a></h4>
<p>A list with ANOVA results, phase participation stats, and correlations.</p>
</div>

</div><p></p><hr><a id="method-FocusGroup-analyze_participation_balance"></a><div class="section">
<h3 id="method-analyze-participation-balance-">Method <code>analyze_participation_balance()</code><a class="anchor" aria-label="anchor" href="#method-analyze-participation-balance-"></a></h3>
<p>Analyze participation balance and dominance patterns.</p><div class="section">
<h4 id="usage-10">Usage<a class="anchor" aria-label="anchor" href="#usage-10"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FocusGroup</span><span class="op">$</span><span class="fu">analyze_participation_balance</span><span class="op">(</span>turns <span class="op">=</span> <span class="cn">NULL</span>, speaker_ids <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-10">Arguments<a class="anchor" aria-label="anchor" href="#arguments-10"></a></h4>
<p></p><div class="arguments"><dl><dt><code>turns</code></dt>
<dd><p>Integer vector. Optional. Specific turns to analyze.</p></dd>


<dt><code>speaker_ids</code></dt>
<dd><p>Character vector. Optional. Specific speakers to analyze.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-9">Returns<a class="anchor" aria-label="anchor" href="#returns-9"></a></h4>
<p>A list with participation statistics and balance metrics.</p>
</div>

</div><p></p><hr><a id="method-FocusGroup-analyze_response_patterns"></a><div class="section">
<h3 id="method-analyze-response-patterns-">Method <code>analyze_response_patterns()</code><a class="anchor" aria-label="anchor" href="#method-analyze-response-patterns-"></a></h3>
<p>Analyze response patterns and interaction behaviors.</p><div class="section">
<h4 id="usage-11">Usage<a class="anchor" aria-label="anchor" href="#usage-11"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FocusGroup</span><span class="op">$</span><span class="fu">analyze_response_patterns</span><span class="op">(</span>turns <span class="op">=</span> <span class="cn">NULL</span>, speaker_ids <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-11">Arguments<a class="anchor" aria-label="anchor" href="#arguments-11"></a></h4>
<p></p><div class="arguments"><dl><dt><code>turns</code></dt>
<dd><p>Integer vector. Optional. Specific turns to analyze.</p></dd>


<dt><code>speaker_ids</code></dt>
<dd><p>Character vector. Optional. Specific speakers to analyze.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-10">Returns<a class="anchor" aria-label="anchor" href="#returns-10"></a></h4>
<p>A list with response and interaction pattern metrics.</p>
</div>

</div><p></p><hr><a id="method-FocusGroup-analyze_question_patterns"></a><div class="section">
<h3 id="method-analyze-question-patterns-">Method <code>analyze_question_patterns()</code><a class="anchor" aria-label="anchor" href="#method-analyze-question-patterns-"></a></h3>
<p>Analyze question asking patterns during the conversation.</p><div class="section">
<h4 id="usage-12">Usage<a class="anchor" aria-label="anchor" href="#usage-12"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FocusGroup</span><span class="op">$</span><span class="fu">analyze_question_patterns</span><span class="op">(</span>turns <span class="op">=</span> <span class="cn">NULL</span>, speaker_ids <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-12">Arguments<a class="anchor" aria-label="anchor" href="#arguments-12"></a></h4>
<p></p><div class="arguments"><dl><dt><code>turns</code></dt>
<dd><p>Integer vector. Optional. Specific turns to analyze.</p></dd>


<dt><code>speaker_ids</code></dt>
<dd><p>Character vector. Optional. Specific speakers to analyze.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-11">Returns<a class="anchor" aria-label="anchor" href="#returns-11"></a></h4>
<p>A list with question pattern analysis.</p>
</div>

</div><p></p><hr><a id="method-FocusGroup-analyze_key_phrases"></a><div class="section">
<h3 id="method-analyze-key-phrases-">Method <code>analyze_key_phrases()</code><a class="anchor" aria-label="anchor" href="#method-analyze-key-phrases-"></a></h3>
<p>Extract and analyze key phrases using n-grams.</p><div class="section">
<h4 id="usage-13">Usage<a class="anchor" aria-label="anchor" href="#usage-13"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FocusGroup</span><span class="op">$</span><span class="fu">analyze_key_phrases</span><span class="op">(</span>min_freq <span class="op">=</span> <span class="fl">2</span>, turns <span class="op">=</span> <span class="cn">NULL</span>, speaker_ids <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-13">Arguments<a class="anchor" aria-label="anchor" href="#arguments-13"></a></h4>
<p></p><div class="arguments"><dl><dt><code>min_freq</code></dt>
<dd><p>Integer. Minimum frequency for phrases to be considered key.</p></dd>


<dt><code>turns</code></dt>
<dd><p>Integer vector. Optional. Specific turns to analyze.</p></dd>


<dt><code>speaker_ids</code></dt>
<dd><p>Character vector. Optional. Specific speakers to analyze.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-12">Returns<a class="anchor" aria-label="anchor" href="#returns-12"></a></h4>
<p>A list with bigram and trigram analysis.</p>
</div>

</div><p></p><hr><a id="method-FocusGroup-plot_participation_timeline"></a><div class="section">
<h3 id="method-plot-participation-timeline-">Method <code>plot_participation_timeline()</code><a class="anchor" aria-label="anchor" href="#method-plot-participation-timeline-"></a></h3>
<p>Create participation timeline plot showing cumulative turns by participant across phases.</p><div class="section">
<h4 id="usage-14">Usage<a class="anchor" aria-label="anchor" href="#usage-14"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FocusGroup</span><span class="op">$</span><span class="fu">plot_participation_timeline</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-13">Returns<a class="anchor" aria-label="anchor" href="#returns-13"></a></h4>
<p>ggplot object</p>
</div>

</div><p></p><hr><a id="method-FocusGroup-plot_word_count_distribution"></a><div class="section">
<h3 id="method-plot-word-count-distribution-">Method <code>plot_word_count_distribution()</code><a class="anchor" aria-label="anchor" href="#method-plot-word-count-distribution-"></a></h3>
<p>Create word count distribution plot showing message length patterns.</p><div class="section">
<h4 id="usage-15">Usage<a class="anchor" aria-label="anchor" href="#usage-15"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FocusGroup</span><span class="op">$</span><span class="fu">plot_word_count_distribution</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-14">Returns<a class="anchor" aria-label="anchor" href="#returns-14"></a></h4>
<p>ggplot object</p>
</div>

</div><p></p><hr><a id="method-FocusGroup-plot_participation_by_agent"></a><div class="section">
<h3 id="method-plot-participation-by-agent-">Method <code>plot_participation_by_agent()</code><a class="anchor" aria-label="anchor" href="#method-plot-participation-by-agent-"></a></h3>
<p>Create participation by agent plot showing total turns per participant.</p><div class="section">
<h4 id="usage-16">Usage<a class="anchor" aria-label="anchor" href="#usage-16"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FocusGroup</span><span class="op">$</span><span class="fu">plot_participation_by_agent</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-15">Returns<a class="anchor" aria-label="anchor" href="#returns-15"></a></h4>
<p>ggplot object</p>
</div>

</div><p></p><hr><a id="method-FocusGroup-plot_turn_length_timeline"></a><div class="section">
<h3 id="method-plot-turn-length-timeline-">Method <code>plot_turn_length_timeline()</code><a class="anchor" aria-label="anchor" href="#method-plot-turn-length-timeline-"></a></h3>
<p>Create turn length timeline plot showing message length evolution over time.</p><div class="section">
<h4 id="usage-17">Usage<a class="anchor" aria-label="anchor" href="#usage-17"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FocusGroup</span><span class="op">$</span><span class="fu">plot_turn_length_timeline</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns-16">Returns<a class="anchor" aria-label="anchor" href="#returns-16"></a></h4>
<p>ggplot object</p>
</div>

</div><p></p><hr><a id="method-FocusGroup-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-18">Usage<a class="anchor" aria-label="anchor" href="#usage-18"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">FocusGroup</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-14">Arguments<a class="anchor" aria-label="anchor" href="#arguments-14"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="mailto:sanaei@uchicago.edu">Ali Sanaei</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

